<ion-view hide-nav-bar="true">
    <ion-header-bar style="background-color: #EC407A; padding-bottom: 10px; background-image: none;">
        <label class="item-input-wrapper">
            <i class="icon ion-ios-search placeholder-icon"></i>
            <input type="text" placeholder="도시명을 입력하세요" style="background-color: transparent;"
                  ng-model="searchWord" ng-change="OnChangeSearchWord()">
        </label>
    </ion-header-bar>
    <ion-content style="color:white;" zooming="false" direction="y" has-bouncing="false" scrollbar-y="false" delegate-handle="cityList" on-scroll="OnScrollResults()" >
        <!-- for search mode-->
        <div class="list list-inset" style="background-color: transparent; margin-top: 0px;" ng-if="searchWord!==undefined">
            <div class="item" style="background-color: inherit;" ng-repeat="result in searchResults" ng-click="OnSelectResult(result)">
                <div class="row">
                    <div class="col search-content" style="text-align: left;"><p>{{result.first}} {{result.second}} {{result.third}}</p></div>
                </div>
            </div>
        </div>
        <div style="height:16px;" ng-if="searchWord===undefined"></div>
        <div class="list list-inset" style="background-color: transparent; margin-top: 0px;" ng-if="searchWord===undefined">
            <div class="item" style="background-color: inherit;" ng-repeat="city in cityList"
                 on-swipe-left="OnSwipeCity(city)" on-swipe-right="OnSwipeCity(city)">
                <div class="row row-no-padding">
                    <div class="col search-content" style="text-align: left; width: 35%;" ng-click="OnSelectCity($index)" >
                        <p>{{city.address[0]}}<br>{{city.address[1]}}
                            <a class="icon ion-ios-location-outline" style="color: white;" ng-if="city.currentPosition"></a>
                        </p>
                    </div>
                    <div class="col search-content" style="width: 30%" ng-click="OnSelectCity($index)"><img
                            style="width: 48px" ng-src="{{::imgPath}}/{{city.skyIcon}}.png"></div>
                    <div class="col search-content" style="width: 20%;" ng-click="OnSelectCity($index)"><p
                            class="search-digit">{{city.t1h}}˚<br><span style="font-size: 16px; font-family: inherit">{{city.tmn}}˚/{{city.tmx}}˚</span></p>
                    </div>
                    <div class="col search-content" style="width: 15%;" ng-show="city.delete===false" ng-click="openTimePicker($index)">
                        <p style="text-align: right; font-size: 24px"><a class="icon" ng-class="city.notification == undefined?'ion-android-notifications-none':'ion-android-notifications'"></a>
                        </p>
                    </div>
                    <button class="button button-energized" style="width: 15%; font-size:20px; font-family: 'Bareun Dotum Pro 1'"
                            ng-show="city.delete===true" ng-click="OnDeleteCity($index)">삭제
                    </button>
                </div>
            </div>
        </div>
        <div style="text-align: center" ng-if="searchWord===undefined"><p>삭제하고 싶은 지역은 왼쪽으로 밀어주세요.</p></div>
    </ion-content>
    <ion-spinner icon="lines" class="spinner-light" style="position: absolute; top: 50%; left: 50%"
                 ng-if="isLoading===true"/>
</ion-view>