<ion-view hide-nav-bar="true">
    <!--<ion-header-bar md-page-header on-swipe-left="onSwipeLeft()" on-swipe-right="onSwipeRight()" style="background-image:url(img/cloudy-pic.jpg)">-->
    <ion-header-bar md-page-header on-swipe-left="onSwipeLeft()" on-swipe-right="onSwipeRight()" ng-style="{'height':headerHeight+'px'}">
        <div id="alphaBar" class="row row-no-padding" style="width: 100%; height: 100%; margin-top: 0px;" ng-style="{'background-color': viewColor}">
            <div class="cityArrow" ng-click="onSwipeRight()" ng-if="cityCount > 1">
                <span class="icon-left ion-chevron-left"></span>
            </div>

            <div id="bigInfoBox" class="topMainBox" ng-bind-html="topMainBox"></div>

            <div class="cityArrow" ng-click="onSwipeLeft()" ng-if="cityCount > 1">
                <span class="icon-right ion-chevron-right"></span>
            </div>
        </div>
    </ion-header-bar>
    <ion-content id="ionContentBody" delegate-handle="body" direction="y" ng-style="{'bottom':contentBottom+'px'}"
                 overflow-scroll="true" on-scroll="headerScroll()" zooming="false" scrollbar-y="false"
                 scrollbar-x="false" has-bouncing="false" style="top: 0">
        <div id="contentBody">
            <div md-header-picture ng-style="{'height':headerHeight+'px'}"></div>

            <div class="main-content"
                 ng-class="{'short-forecast':forecastType==='short', 'mid-forecast':forecastType==='mid', 'detail-forecast':forecastType==='detail'}">
                <div class="col extend-content">
                    <div style="position: relative">
                        <ion-scroll delegate-handle="timeChart" direction="x" zooming="false" has-bouncing="false"
                                    scrollbar-x="false" scrollbar-y="false" style="width: 100%; height: 100%">
                            <div class="col chartBox" style="margin: auto" ng-style="{'width':timeWidth +'px'}">
                                <div id="shortTable" class="col table-content" ng-bind-html="shortTable"></div>
                                <div ng-short-chart class="chart-content" ng-style="{'height':chartShortHeight+'px'}"></div>
                            </div>
                        </ion-scroll>
                        <div class="label">
                            <div class="label-yesterday"></div> <span translate="LOC_PREVIOUS_DAY_TEMP"></span><br/>
                            <div class="label-today"></div> <span translate="LOC_THIS_DAY_TEMP"></span>
                        </div>
                    </div>

                    <div class="col" style="margin: 0;padding: 0" ng-if="showDetailWeather">

                        <hr ng-if="currentWeather.arpltn" style="margin: 0; border: 0; border-top:1px solid rgba(255,255,255,0.6);">
                        <div ng-if="currentWeather.arpltn" class="row row-no-padding" style="margin-top: 16px">
                            <div class="col" style="text-align: center" ng-if="currentWeather.arpltn.khaiValue != undefined">
                                <p class="body1" style="margin: 0 0 5px;" translate="LOC_AQI"></p>
                                <img height="32px" ng-src="img/{{getSentimentIcon(currentWeather.arpltn.khaiGrade)}}">
                                <p class="body2" style="margin: 0 0 2px;">{{getSentimentStr(currentWeather.arpltn.khaiGrade)|translate}}</p>
                                <p class="caption" style="margin: 0 0 5px;">{{currentWeather.arpltn.khaiValue}}</p>
                            </div>
                            <div class="col" style="text-align: center" ng-if="currentWeather.arpltn.pm10Value != undefined">
                                <p class="body1" style="margin: 0 0 5px;" translate="LOC_PM10"></p>
                                <img height="32px" ng-src="img/{{getSentimentIcon(currentWeather.arpltn.pm10Grade)}}">
                                <p class="body2" style="margin: 0 0 2px;">{{getSentimentStr(currentWeather.arpltn.pm10Grade)|translate}}</p>
                                <p class="caption" style="margin: 0 0 5px;">{{currentWeather.arpltn.pm10Value}}<small>㎍/㎥</small></p>
                            </div>
                            <div class="col" style="text-align: center" ng-if="currentWeather.arpltn.pm25Value != undefined">
                                <p class="body1" style="margin: 0 0 5px;" translate="LOC_PM25"></p>
                                <img height="32px" ng-src="img/{{getSentimentIcon(currentWeather.arpltn.pm25Grade)}}">
                                <p class="body2" style="margin: 0 0 2px;">{{getSentimentStr(currentWeather.arpltn.pm25Grade)|translate}}</p>
                                <p class="caption" style="margin: 0 0 5px;">{{currentWeather.arpltn.pm25Value}}<small>㎍/㎥</small></p>
                            </div>
                        </div>

                        <hr style="margin: 0; border: 0; border-top:1px solid rgba(255,255,255,0.6);">
                        <div class="row caption" style="padding: 3px" translate="LOC_DETAIL_WEATHER"></div>
                        <div class="row row-no-padding">
                            <div style="margin: 0 auto;">
                                <div class="row subheading">
                                    <img src="img/Temp-05.png" style="height: 24px;">
                                    <p class="detail-item-p">{{diffTempStr}}</p>
                                </div>
                                <div class="row subheading">
                                    <img ng-src="img/Humidity-{{currentWeather.reh?currentWeather.reh - currentWeather.reh%10:'00'}}.png"
                                         style="height: 24px;">
                                    <p class="detail-item-p">{{'LOC_HUMIDITY'|translate}} {{currentWeather.reh}}<small>%</small></p>
                                </div>
                                <div class="row subheading">
                                    <img src="img/wind-and-cloud.svg" style="height: 20px; margin: 0 2px">
                                    <p class="detail-item-p">{{'LOC_WIND'|translate}} {{currentWeather.wdd}} {{currentWeather.wsd}}<small>m/s</small></p>
                                </div>
                                <div class="row subheading">
                                    <img src="img/ic_visibility_white_24px.svg" style="height: 24px">
                                    <p class="detail-item-p">{{'LOC_VISIBILITY'|translate}} {{currentWeather.visibility}}<small>km</small></p>
                                </div>
                                <div class="row subheading">
                                    <img src="img/ic_vertical_align_bottom_white_24px.svg" style="height: 24px">
                                    <p class="detail-item-p"}}>{{'LOC_PRESSURE'|translate}} {{currentWeather.hPa}}<small>hPa</small></p>
                                </div>
                                <div class="row subheading" ng-if="currentWeather.dspls && currentWeather.dspls > 60">
                                    <img src="img/angry.svg" style="height: 20px; margin: 0 2px">
                                    <p class="detail-item-p">{{'LOC_DISCOMFORT_INDEX'|translate}} {{getLowHighGradeStr(currentWeather.dsplsGrade)|translate}}<span class="caption">({{currentWeather.dspls}})</span></p>
                                </div>
                                <div class="row subheading" ng-if="currentWeather.sensorytem">
                                    <img src="img/ic_person_outline_white_24px.svg" style="height: 24px">
                                    <p class="detail-item-p">{{'LOC_FEELS_LIKE'|translate}} {{currentWeather.sensorytem}}˚</p>
                                </div>
                                <div class="row subheading" ng-if="!(currentWeather.weatherType == undefined)">
                                    <img ng-src="{{::imgPath}}/{{currentWeather.skyIcon}}.png" style="height: 24px">
                                    <p class="detail-item-p">{{'LOC_WEATHER'|translate}} {{getWeatherStr(currentWeather)|translate}}</p>
                                </div>
                                <div class="row subheading" ng-if="currentWeather.rn1">
                                    <img src="img/glass-with-water.svg" style="height: 20px; margin: 0 2px">
                                    <p class="detail-item-p">{{'LOC_HOURLY_PRECIPITATION'|translate}} {{currentWeather.rn1}}<small>mm</small></p>
                                </div>
                                <div class="row subheading">
                                    <i class="icon ion-clock" style="font-size: 22px; margin: 0 2px"></i>
                                    <p class="detail-item-p">{{updateTime}}</p>
                                </div>
                            </div>
                        </div>

                        <hr ng-if="currentWeather.arpltn" style="margin: 0; border: 0; border-top:1px solid rgba(254,254,254,0.6);">
                        <div ng-if="currentWeather.arpltn" class="row caption" style="padding: 3px" translate="LOC_DETAIL_AQI"></div>
                        <table ng-if="currentWeather.arpltn" border="0" class="subheading" style="margin: 0 auto;">
                            <tr>
                                <td translate="LOC_PM10"></td>
                                <td>
                                    <img class="img-detail-aqi" ng-src="img/{{getSentimentIcon(currentWeather.arpltn.pm10Grade)}}">
                                    {{getSentimentStr(currentWeather.arpltn.pm10Grade)|translate}}<span class="caption"
                                                                                              ng-if="currentWeather.arpltn.pm10Value != -1">({{currentWeather.arpltn.pm10Value}}㎍/㎥{{currentWeather.arpltn.pm10StationName?" "+currentWeather.arpltn.pm10StationName:""}})</span>
                                </td>
                            </tr>
                            <tr>
                                <td translate="LOC_PM25"></td>
                                <td>
                                    <img class="img-detail-aqi" ng-src="img/{{getSentimentIcon(currentWeather.arpltn.pm25Grade)}}">
                                    {{getSentimentStr(currentWeather.arpltn.pm25Grade)|translate}}<span class="caption"
                                                                                              ng-if="currentWeather.arpltn.pm25Value != -1">({{currentWeather.arpltn.pm25Value}}㎍/㎥{{currentWeather.arpltn.pm25StationName?" "+currentWeather.arpltn.pm25StationName:""}})</span>
                                </td>
                            </tr>
                            <tr>
                                <td translate="LOC_O3"></td>
                                <td>
                                    <img class="img-detail-aqi" ng-src="img/{{getSentimentIcon(currentWeather.arpltn.o3Grade)}}">
                                    {{getSentimentStr(currentWeather.arpltn.o3Grade)|translate}}<span class="caption"
                                                                                              ng-if="currentWeather.arpltn.o3Value != -1">({{currentWeather.arpltn.o3Value}}㎍/㎥{{currentWeather.arpltn.o3StationName?" "+currentWeather.arpltn.o3StationName:""}})</span>
                                </td>
                            </tr>
                            <tr>
                                <td translate="LOC_NO2"></td>
                                <td>
                                    <img class="img-detail-aqi" ng-src="img/{{getSentimentIcon(currentWeather.arpltn.no2Grade)}}">
                                    {{getSentimentStr(currentWeather.arpltn.no2Grade)|translate}}<span class="caption"
                                                                                              ng-if="currentWeather.arpltn.no2Value != -1">({{currentWeather.arpltn.no2Value}}㎍/㎥{{currentWeather.arpltn.no2StationName?" "+currentWeather.arpltn.no2StationName:""}})</span>
                                </td>
                            </tr>
                            <tr>
                                <td translate="LOC_CO"></td>
                                <td>
                                    <img class="img-detail-aqi" ng-src="img/{{getSentimentIcon(currentWeather.arpltn.coGrade)}}">
                                    {{getSentimentStr(currentWeather.arpltn.coGrade)|translate}}<span class="caption"
                                                                                              ng-if="currentWeather.arpltn.coValue != -1">({{currentWeather.arpltn.coValue}}㎍/㎥{{currentWeather.arpltn.coStationName?" "+currentWeather.arpltn.coStationName:""}})</span>
                                </td>
                            </tr>
                            <tr>
                                <td translate="LOC_SO2"></td>
                                <td>
                                    <img class="img-detail-aqi" ng-src="img/{{getSentimentIcon(currentWeather.arpltn.so2Grade)}}">
                                    {{getSentimentStr(currentWeather.arpltn.so2Grade)|translate}}<span class="caption"
                                                                                              ng-if="currentWeather.arpltn.so2Value != -1">({{currentWeather.arpltn.so2Value}}㎍/㎥{{currentWeather.arpltn.so2StationName?" "+currentWeather.arpltn.so2StationName:""}})</span>
                                </td>
                            </tr>
                            <tr>
                                <td translate="LOC_AQI"></td>
                                <td>
                                    <img class="img-detail-aqi" ng-src="img/{{getSentimentIcon(currentWeather.arpltn.khaiGrade)}}">
                                    {{getSentimentStr(currentWeather.arpltn.khaiGrade)|translate}}<span class="caption"
                                                                                              ng-if="currentWeather.arpltn.khaiValue != -1">({{currentWeather.arpltn.khaiValue}})</span>
                                </td>
                            </tr>
                            <tr>
                                <td translate="LOC_STATION"></td>
                                <td>
                                    <i class="icon ion-pinpoint img-detail-aqi" style="font-size: 22px; margin: 0 11px"></i>
                                    <span class="body1" ng-if="currentWeather.arpltn.stationName">{{currentWeather.arpltn.stationName}}</span>
                                </td>
                            </tr>
                            <tr>
                                <td translate="LOC_PUBLIC"></td>
                                <td>
                                    <i class="icon ion-clock img-detail-aqi" style="font-size: 22px; margin: 0 11px"></i>
                                    <span class="body1" ng-if="currentWeather.arpltn.dataTime">{{currentWeather.arpltn.dataTime}}</span>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </ion-content>
</ion-view>
